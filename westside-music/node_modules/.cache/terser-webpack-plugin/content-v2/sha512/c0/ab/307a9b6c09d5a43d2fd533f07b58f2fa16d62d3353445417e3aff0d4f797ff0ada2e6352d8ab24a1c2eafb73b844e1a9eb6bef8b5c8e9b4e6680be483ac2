{"map":{"version":3,"sources":["static/js/main.271ace46.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","accessToken","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","Components_SearchBar_SearchBar","_React$Component","Object","SearchBar","_super","props","_this","call","state","term","search","bind","handleTermChange","key","value","onSearch","e","preventDefault","setState","target","a","createElement","className","placeholder","onChange","onClick","Component","Components_Track_Track","Track","addTrack","removeTrack","onAdd","track","onRemove","isRemoval","name","artist","album","renderAction","Components_Tracklist_TrackList","TrackList","apply","arguments","tracks","map","id","Components_SearchResults_SearchResults","SearchResults","searchResults","Components_Playlist_Playlist","Playlist","handleNameChange","onNameChange","defaultValue","playlistTracks","onSave","Spotify","getAccessToken","accessTokenMatch","window","location","href","match","expiresInMatch","expiresIn","Number","setTimeout","history","pushState","accessUrl","concat","fetch","headers","Authorization","then","response","json","jsonResponse","items","artists","uri","savePlaylist","trackUris","length","userId","method","body","JSON","stringify","playlistId","uris","util_Spotify","Components_App_App","App","playlistName","updatePlaylistName","find","SavedTrack","filter","_this2","_this3","playlist","Boolean","hostname","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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"},"code":"(this[\"webpackJsonpwestside-music\"]=this[\"webpackJsonpwestside-music\"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){\"use strict\";a.r(t);var n,r=a(0),s=a.n(r),c=a(7),i=a.n(c),o=(a(13),a(2)),l=a(3),u=a(1),h=a(5),m=a(4),p=(a(14),a(15),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={term:\"\"},n.search=n.search.bind(Object(u.a)(n)),n.handleTermChange=n.handleTermChange.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:\"search\",value:function(){this.props.onSearch(this.state.term)}},{key:\"handleTermChange\",value:function(e){e.preventDefault(),this.setState({term:e.target.value})}},{key:\"render\",value:function(){return s.a.createElement(\"div\",{className:\"SearchBar\"},s.a.createElement(\"input\",{placeholder:\"Enter A Song, Album, or Artist\",onChange:this.handleTermChange}),s.a.createElement(\"button\",{className:\"SearchButton\",onClick:this.search},\"SEARCH\"))}}]),a}(s.a.Component)),d=(a(16),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).addTrack=n.addTrack.bind(Object(u.a)(n)),n.removeTrack=n.removeTrack.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:\"addTrack\",value:function(){this.props.onAdd(this.props.track)}},{key:\"removeTrack\",value:function(){this.props.onRemove(this.props.track)}},{key:\"renderAction\",value:function(){return this.props.isRemoval?s.a.createElement(\"button\",{className:\"Track-action\",onClick:this.removeTrack},\"-\"):s.a.createElement(\"button\",{className:\"Track-action\",onClick:this.addTrack},\"+\")}},{key:\"render\",value:function(){return s.a.createElement(\"div\",{className:\"Track\"},s.a.createElement(\"div\",{className:\"Track-information\"},s.a.createElement(\"h3\",null,this.props.track.name),s.a.createElement(\"p\",null,this.props.track.artist,\" | \",this.props.track.album)),this.renderAction())}}]),a}(s.a.Component)),v=(a(17),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:\"render\",value:function(){var e=this;return s.a.createElement(\"div\",{className:\"TrackList\"},this.props.tracks.map((function(t){return s.a.createElement(d,{track:t,key:t.id,onAdd:e.props.onAdd,onRemove:e.props.onRemove,isRemoval:e.props.isRemoval})})))}}]),a}(s.a.Component)),f=(a(18),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:\"render\",value:function(){return s.a.createElement(\"div\",{className:\"SearchResults\"},s.a.createElement(\"h2\",null,\"Results\"),s.a.createElement(v,{tracks:this.props.searchResults,onAdd:this.props.onAdd,isRemoval:!1}))}}]),a}(s.a.Component)),k=(a(19),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleNameChange=n.handleNameChange.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:\"handleNameChange\",value:function(e){this.props.onNameChange(e.target.value)}},{key:\"render\",value:function(){return s.a.createElement(\"div\",{className:\"Playlist\"},s.a.createElement(\"input\",{defaultValue:\"New Playlist\",onChange:this.handleNameChange}),s.a.createElement(v,{tracks:this.props.playlistTracks,onRemove:this.props.onRemove,isRemoval:!0}),s.a.createElement(\"button\",{className:\"Playlist-save\",onClick:this.props.onSave},\"SAVE TO SPOTIFY\"))}}]),a}(s.a.Component)),y={getAccessToken:function(){if(n)return n;var e=window.location.href.match(/access_token=([^&]*)/),t=window.location.href.match(/expires_in=([^&]*)/);if(e&&t){n=e[1];var a=Number(t[1]);return window.setTimeout((function(){return n=\"\"}),1e3*a),window.history.pushState(\"Access Token\",null,\"/\"),n}var r=\"https://accounts.spotify.com/authorize?client_id=\".concat(\"8921a2edf5e5425fa850881f8356585d\",\"&response_type=token&scope=playlist-modify-public&redirect_uri=\").concat(\"http://tested-clocks.surge.sh\");window.location=r},search:function(e){var t=y.getAccessToken();return fetch(\"https://api.spotify.com/v1/search?type=track&q=\".concat(e),{headers:{Authorization:\"Bearer \".concat(t)}}).then((function(e){return e.json()})).then((function(e){return e.tracks?e.tracks.items.map((function(e){return{id:e.id,name:e.name,artist:e.artists[0].name,album:e.album.name,uri:e.uri}})):[]}))},savePlaylist:function(e,t){if(e&&t.length){var a,n=y.getAccessToken(),r={Authorization:\"Bearer \".concat(n)};return fetch(\"https://api.spotify.com/v1/me\",{headers:r}).then((function(e){return e.json()})).then((function(n){return a=n.id,fetch(\"https://api.spotify.com/v1/users/\".concat(a,\"/playlists\"),{headers:r,method:\"POST\",body:JSON.stringify({name:e})}).then((function(e){return e.json()})).then((function(e){var n=e.id;return fetch(\"https://api.spotify.com/v1/users/\".concat(a,\"/playlists/\").concat(n,\"/tracks\"),{headers:r,method:\"POST\",body:JSON.stringify({uris:t})})}))}))}}},b=y,T=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={searchResults:[],playlistName:\"Last Show\",playlistTracks:[]},n.addTrack=n.addTrack.bind(Object(u.a)(n)),n.removeTrack=n.removeTrack.bind(Object(u.a)(n)),n.updatePlaylistName=n.updatePlaylistName.bind(Object(u.a)(n)),n.savePlaylist=n.savePlaylist.bind(Object(u.a)(n)),n.search=n.search.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:\"addTrack\",value:function(e){var t=this.state.playlistTracks;t.find((function(t){return t.id===e.id}))||(t.push(e),this.setState({playlistTracks:t}))}},{key:\"removeTrack\",value:function(e){var t=this.state.playlistTracks.filter((function(t){return t.id!==e.id}));this.setState({playlistTracks:t})}},{key:\"updatePlaylistName\",value:function(e){this.setState({playlistName:e})}},{key:\"savePlaylist\",value:function(){var e=this,t=this.state.playlistTracks.map((function(e){return e.uri}));b.savePlaylist(this.state.playlistName,t).then((function(){e.setState({playlistName:\"New Playlist\",playlistTracks:[]})}))}},{key:\"search\",value:function(e){var t=this;b.search(e).then((function(e){t.setState({searchResults:e})}))}},{key:\"render\",value:function(){return s.a.createElement(\"div\",null,s.a.createElement(\"h1\",null,\"West\",s.a.createElement(\"span\",{className:\"highlight\"},\"side\"),\"Music\"),s.a.createElement(\"div\",{className:\"App\"},s.a.createElement(p,{onSearch:this.search}),s.a.createElement(\"div\",{className:\"App-playlist\"},s.a.createElement(f,{searchResults:this.state.searchResults,onAdd:this.addTrack}),s.a.createElement(k,{playlist:this.state.playlistName,playlistTracks:this.state.playlistTracks,onRemove:this.removeTrack,onNameChange:this.updatePlaylistName,onSave:this.savePlaylist}))))}}]),a}(s.a.Component);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(T,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);","extractedComments":[]}